[pytest]
# Pytest 配置文件

# 测试发现路径
testpaths = tests

# 命令行选项
addopts =
    -ra
    --strict-markers
    --strict-config
    --showlocals
    --tb=short

# 最小覆盖率要求
# addopts = --cov=. --cov-report=term-missing --cov-fail-under=60

# Python 路径
pythonpath = .

# 标记定义
markers =
    unit: 单元测试
    integration: 集成测试
    security: 安全测试
    slow: 运行缓慢的测试
    requires_model: 需要下载模型的测试
    vad: Voice Activity Detection 测试
    asr: Automatic Speech Recognition 测试

# 异步测试支持
asyncio_mode = auto

# 过滤警告
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
